#!/usr/bin/perl
use strict;
use warnings;
use utf8;

#$MOJO_HOME/etc/plugins/auth.conf
#Default configuration for Ado::Plugin::Auth
{   auth_methods => ['ado', 'facebook'],

    #Add your routes definitions here.
    routes => [

        #links to forms, suitable for embedding in menus
        {   route => '/authbar',
            via   => ['GET'],
            to    => {
                cb => sub { shift->render('partials/authbar') }
            },
        },

        #the login form
        {   route => '/login/:auth_method',
            via   => ['GET'],
            to    => {
                auth_method => 'ado',
                cb          => \&Ado::Plugin::Auth::login
            },
        },

    ],
};
